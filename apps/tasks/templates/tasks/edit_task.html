{% extends "base.html" %}
{% block content %}
  {% load static %}
  <div class="flex flex-col w-full overflow-y-auto p-6 scrollarea">
    <h1 class="page-title mb-6">Edit task #{{ task.id }}</h1>
    <form method="post" class="space-y-5 text-sm mb-6">
      {% csrf_token %}
      <div class="flex flex-wrap gap-10">
        <div>
          <label class="block mb-1 font-medium">Project</label>
          <p class="rounded border border-gray-300 p-1">{{ task.project.title }}</p>
        </div>
        <div>
          <label for="{{ form.status.id_for_label }}" class="form-label">{{ form.status.label }}</label>
          {{ form.status }}
          {% include "form_errors.html" with errors=form.status.errors %}
        </div>
        <div>
          <label for="{{ form.executor.id_for_label }}" class="form-label">{{ form.executor.label }}</label>
          {{ form.executor }}
          {% include "form_errors.html" with errors=form.executor.errors %}
        </div>
        <div>
          <label for="{{ form.parent.id_for_label }}" class="form-label">{{ form.parent.label }}</label>
          {{ form.parent }}
          {% include "form_errors.html" with errors=form.parent.errors %}
        </div>
      </div>
      <div>
        <label for="{{ form.title.id_for_label }}" class="form-label">{{ form.title.label }}</label>
        {{ form.title }}
        {% include "form_errors.html" with errors=form.title.errors %}
      </div>
      <div>
        <label for="{{ form.description.id_for_label }}" class="form-label">{{ form.description.label }}</label>
        {{ form.description }}
        {% include "form_errors.html" with errors=form.description.errors %}
      </div>
      <div>
        <label for="{{ form.comment_text.id_for_label }}" class="form-label">Add comment</label>
        {{ form.comment_text }}
        {% include "form_errors.html" with errors=form.comment_text.errors %}
      </div>
      <h3 class="form-label">Add log time</h3>
      <div class="border-l border-gray-300 p-3 flex flex-col gap-3">
        <div>
          <label for="{{ form.log_hours.id_for_label }}" class="form-label">Hours</label>
          {{ form.log_hours }}
          {% include "form_errors.html" with errors=form.log_hours.errors %}
        </div>
        <div>
          <label for="{{ form.log_description.id_for_label }}" class="form-label">Description</label>
          {{ form.log_description }}
          {% include "form_errors.html" with errors=form.log_description.errors %}
        </div>
      </div>
      <div class="flex flex-row gap-15">
        <button type="submit"
                class="rounded border border-gray-300 p-1 hover:bg-gray-300 font-medium">Save</button>
        <button type="button"
                onclick="window.history.back();"
                class="rounded border border-gray-300 p-1 hover:bg-gray-300 font-medium text-red-500">Cancel</button>
      </div>
    </form>
    {% include "tasks/comments__timelogs__history.html" %}
  </div>
{% endblock content %}
